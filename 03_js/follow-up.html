<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Document</title>
  </head>
  <body>
    <h1>끝말잇기</h1>
    <h2 id="keyword">제시어</h2>
    <input type="text" id="inputkeyword" />
    <button id="btnSubmit">등록</button>

    <script>
      let keyword = document.getElementById("keyword");
      let inputkeyword = document.getElementById("inputkeyword");
      let btnSubmit = document.getElementById("btnSubmit");

      let prevList = [];

      function checkInput() {
        // 배열처럼 인덱스로 접근 가능하다. 배열처럼 길이도 받을 수 있다.
        let keywordStr = keyword.innerText;
        //중복여부 확인
        // Array.prototype.includes() : 인자로 전달된 값이 배열에 있는지 true, false 반환
        if (prevList.includes(inputkeyword.value)) {
          alert("이미 입력된 단어입니다.");
          return;
        }
        //제시어의 마지막 글자와 입력값의 첫 글자가 다르면 함수를 종료.
        if (keywordStr[keywordStr.length - 1] !== inputkeyword.value[0]) {
          alert("첫 글자가 일치하지 않습니다.");
          inputkeyword.focus(); //커서를 이동시킨다.

          return;
        }
        // 위에 조건에 걸리면 제시어가 변경되지 않는다.
        keyword.innerText = inputkeyword.value;
        prevList.push(inputkeyword.value);
        inputkeyword.value = "";
        inputkeyword.focus(); //커서를 이동시킨다.
      }

      btnSubmit.addEventListener("click", checkInput);

      inputkeyword.addEventListener("keydown", function (e) {
        console.log(e.key);
        //키보드 입력 이벤트에는 입력한 킥밧을 e.key로 읽을 수 있다.
        if (e.key === "Enter") {
          checkInput();
        }
      });
    </script>
  </body>
</html>
